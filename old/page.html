
<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
  <title>Quaderno</title>
  <link rel="stylesheet" href="stylesheets/reset.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="stylesheets/base.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="stylesheets/datepicker.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="stylesheets/quaderno.css" type="text/css" media="screen" />
  <script src="js/datepicker.packed.js"></script>
  <script src="js/quaderno.js"></script>
</head>
<body>

  <h1><a href="">Quaderno</a></h1>

  <div id="quad" class="quad_root"></div>

  <div id="output"></div>

  <div class="buttons">
    <a href="" onclick="toggleEdition(this); return false;">edit</a>
    <a href="" onclick="Quaderno.reset('quad'); return false;">reset</a>
    <a href="" onclick="Quaderno.undo('quad'); return false;">undo</a>
    <a href="" onclick="output(); return false;">output</a>
  </div>

  <script>

    support_data = {
      '@document': {
        'authors': [ 'fred', 'famke' ],
        'sold': false,
        'instructions': 'http://appraisercentral.com/baby-manual.jpg' } };

    Quaderno.render(
      'quad',
      {
        "type": "tab_group",
        "elements": [
          { "label": "tab a",
            "type": "group",
            "elements": [
              { "label": "red",
                "type": "boolean",
                "value": true,
                "title": "is it red ?" },
              { "label": "sold",
                "type": "boolean",
                "value": "@document.sold",
                "title": "is it sold ?" },
              { "label": "birthday",
                "type": "date",
                "value": "1948/10/03",
                "title": "enter birth date..." },
              { "label": "initial author",
                "type": "text",
                "value": "@document.authors[1]",
                "title": "who is the initial author",
                "repeatable": true },
              { "label": "country",
                "type": "select",
                "value": "vatican",
                "values": [ "italy", "switzerland", "vatican", "japan", "usa" ],
                "title": "where ?" },
              { "label": "author",
                "type": "select",
                "value": "",
                "values": "@document.authors",
                "title": "where ?" },
              { "label": "instructions",
                "type": "link",
                "value": "http://www.xpherion.com/wp/wp-content/uploads/2007/11/nikon_d300_user_manual.jpg",
                "title": "instruction manual",
                "target": "_blank" },
              { "label": "more instructions",
                "type": "link",
                "value": "@document.instructions",
                "title": "instruction manual",
                "target": "_blank" },
              { "label": "OK ?",
                "type": "circle",
                "value": "",
                "values": [ "O", "△", "✕", "♢" ],
                "title": "OK ?" }
            ]
          },
          { "label": "tab b",
            "type": "group",
            "elements": [
              { "label": "car",
                "type": "text",
                "value": "BMW",
                "title": "which car ?" },
              { "type": "group",
                "label": "address",
                "elements": [
                  { "type": "text", "label": "city", "value": "x" },
                  { "type": "text", "label": "zip", "value": "y" }
                ]
              }
            ]
          },
          { "label": "tab c",
            "type": "group",
            "elements": [
              { "label": "email",
                "type": "text",
                "value": "quaderno@example.com",
                "title": "fill in email address here" }
            ]
          }
        ]
      });

    function output () {
      var data = Quaderno.toData('quad');
      data = JSON.stringify(data);
      var out = document.getElementById('output')
      out.style.display = 'block';
      out.innerHTML = data;
    }

    function toggleEdition (e) {
      var data = Quaderno.toData('quad');
      if (e.innerHTML == 'edit') {
        Quaderno.render('quad', data, 'edit');
        e.innerHTML = 'view';
      }
      else if (e.innerHTML == 'view') {
        Quaderno.render('quad', data, 'view');
        e.innerHTML = 'use';
      }
      else {
        Quaderno.render('quad', data, 'use');
        e.innerHTML = 'edit';
      }
    }
  </script>

</body>
</html>

